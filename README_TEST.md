# GaussDB CDC ä¸€é”®æµ‹è¯•

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
./test_gaussdb_cdc.sh
```

å°±è¿™ä¹ˆç®€å•ï¼è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
1. âœ… éƒ¨ç½²æœ€æ–°ä»£ç 
2. âœ… è¿è¡Œå®Œæ•´æµ‹è¯•
3. âœ… éªŒè¯æ•°æ®ä¸€è‡´æ€§

---

## ğŸ“‹ æµ‹è¯•æµç¨‹

è¯¥è„šæœ¬æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

### æ­¥éª¤ 1: éƒ¨ç½²æœ€æ–°ä»£ç 
- å¼ºåˆ¶æ¸…ç† Maven ç¼“å­˜
- ç¼–è¯‘æœ€æ–°ä»£ç 
- éƒ¨ç½²åˆ° Flink é›†ç¾¤
- é‡å¯é›†ç¾¤å¹¶æäº¤ä½œä¸š

### æ­¥éª¤ 2: è¿è¡Œå¢é‡åŒæ­¥æµ‹è¯•
- åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ
- æµ‹è¯• INSERT æ“ä½œ
- æµ‹è¯• UPDATE æ“ä½œ
- æµ‹è¯• DELETE æ“ä½œ
- éªŒè¯æ¯ä¸ªæ“ä½œçš„åŒæ­¥ç»“æœ

### æ­¥éª¤ 3: éªŒè¯æ•°æ®ä¸€è‡´æ€§
- æ¯”è¾ƒ GaussDB å’Œ MySQL è®°å½•æ•°é‡
- æ¯”è¾ƒæ•°æ®å†…å®¹å®Œæ•´æ€§
- éªŒè¯æµ‹è¯•æ•°æ®åŒæ­¥çŠ¶æ€

---

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### æˆåŠŸæ—¶ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      æµ‹è¯•å®ŒæˆæŠ¥å‘Š                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æµ‹è¯•ç»“æœ:
  âœ… æ­¥éª¤ 1: éƒ¨ç½²æˆåŠŸ
  âœ… æ­¥éª¤ 2: æµ‹è¯•é€šè¿‡ (INSERT/UPDATE/DELETE)
  âœ… æ­¥éª¤ 3: æ•°æ®ä¸€è‡´æ€§éªŒè¯é€šè¿‡

æµ‹è¯•ç»Ÿè®¡:
  â±ï¸  æ€»è€—æ—¶: 2 åˆ† 30 ç§’
  ğŸ“… å®Œæˆæ—¶é—´: 2025-12-23 18:15:00

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ‰ æ­å–œï¼æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼                                         â•‘
â•‘  GaussDB CDC å¢é‡åŒæ­¥åŠŸèƒ½æ­£å¸¸å·¥ä½œ                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### å¤±è´¥æ—¶ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âŒ æµ‹è¯•å¤±è´¥                                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ æ•…éšœæ’æŸ¥å»ºè®®:
  1. æŸ¥çœ‹ Flink æ—¥å¿—: docker logs flink-taskmanager
  2. æ£€æŸ¥ä½œä¸šçŠ¶æ€: docker exec flink-jobmanager ./bin/flink list
  3. éªŒè¯æ•°æ®åº“è¿æ¥: ./run_gaussdb_test.sh init
  4. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: cat TEST_SCRIPTS_GUIDE.md
```

---

## ğŸ”§ å•ç‹¬è¿è¡Œå„ä¸ªæ­¥éª¤

å¦‚æœéœ€è¦å•ç‹¬è¿è¡ŒæŸä¸ªæ­¥éª¤ï¼š

```bash
# åªéƒ¨ç½²
./deploy_gaussdb.sh

# åªæµ‹è¯•
./run_gaussdb_test.sh test

# åªéªŒè¯
./check_sync_result.sh
```

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹å®Œæ•´çš„ä½¿ç”¨æŒ‡å—ï¼š
```bash
cat TEST_SCRIPTS_GUIDE.md
```

---

## ğŸ¯ è¿”å›å€¼

- `0` - æ‰€æœ‰æµ‹è¯•é€šè¿‡
- `1` - æµ‹è¯•å¤±è´¥

å¯ç”¨äº CI/CD æµç¨‹ï¼š
```bash
if ./test_gaussdb_cdc.sh; then
    echo "éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ"
else
    echo "æµ‹è¯•å¤±è´¥ï¼Œåœæ­¢éƒ¨ç½²"
    exit 1
fi
```

---

## ğŸ“ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# æ£€æŸ¥ Maven æ„å»ºæ—¥å¿—
mvn clean install -DskipTests

# æ£€æŸ¥ Docker å®¹å™¨çŠ¶æ€
docker ps
```

**Q: æµ‹è¯•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# æŸ¥çœ‹ Flink æ—¥å¿—
docker logs flink-taskmanager | tail -100

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
./run_gaussdb_test.sh init
```

**Q: éªŒè¯å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
```bash
# æ‰‹åŠ¨æ£€æŸ¥æ•°æ®
./check_sync_result.sh

# æ¸…ç†æµ‹è¯•æ•°æ®é‡è¯•
./run_gaussdb_test.sh cleanup
./test_gaussdb_cdc.sh
```

---

## ğŸ”„ æŒç»­é›†æˆç¤ºä¾‹

```yaml
# .github/workflows/test.yml
name: GaussDB CDC Test

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run CDC Test
        run: ./test_gaussdb_cdc.sh
```

---

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 2.0
- **æ›´æ–°æ—¥æœŸ**: 2025-12-23
- **ç»´æŠ¤è€…**: GaussDB CDC Team

---

## ğŸ‰ å¿«é€ŸéªŒè¯

ä¿®æ”¹ä»£ç åï¼Œåªéœ€è¿è¡Œï¼š
```bash
./test_gaussdb_cdc.sh
```

å°±èƒ½å®Œæ•´éªŒè¯ CDC åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼
